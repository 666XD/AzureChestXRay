# Conda environment specification. The dependencies defined in this file will
# be automatically provisioned for managed runs. These include runs against
# the localdocker, remotedocker, and cluster compute targets.

# Note that this file is NOT used to automatically manage dependencies for the
# local compute target. To provision these dependencies locally, run:
# conda env update --file conda_dependencies.yml

# Details about the Conda environment file format:
# https://conda.io/docs/using/envs.html#create-environment-file-by-hand

# For managing Spark packages and configuration, see spark_dependencies.yml.

# Version of this configuration file's structure and semantics in AzureML.
# This directive is stored in a comment to preserve the Conda file structure.
# [AzureMlVersion] = 2

name: project_environment
channels:
  - defaults
  # - conda-forge
  - pytorch #soumith
dependencies:
  # The python interpreter version.
  # Currently Azure ML Workbench only supports 3.5.2.
  - python=3.5.2
  - pandas=0.19.2
  - requests=2.18.4 
  - tqdm=4.19.5
  - opencv=3.1.0
  - h5py=2.7.0
  - scikit-learn=0.19.1
  - nomkl=1.0
  - tornado=4.5.1 
  # - pytorch=0.3.0
  # - cuda80
  # - torchvision

  # Required for Jupyter Notebooks.
  - ipykernel=4.6.1

  - pip:
    # The API for Azure Machine Learning Model Management Service.
    - azure-ml-api-sdk==0.1.0a11
  
    # Library for collecting data from operationalized models
    # - azureml-model-management-sdk==1.0.1b6
    - azureml.datacollector==0.1.0a13

    - git+git://github.com/fchollet/keras.git
    - git+https://github.com/ahundt/keras-contrib.git
    #- git+https://www.github.com/keras-team/keras-contrib.git
    - tensorflow-gpu==1.4.0
    - tensorflow-tensorboard==0.4.0
    - protobuf==3.5.1
    - scikit-image==0.13.1
    - matplotlib
    - numpy    
    - git+https://github.com/aleju/imgaug
    - http://download.pytorch.org/whl/cu80/torch-0.3.1-cp35-cp35m-linux_x86_64.whl
    # - http://download.pytorch.org/whl/cu80/torch-0.3.0.post4-cp35-cp35m-manylinux1_x86_64.whl 
    - torchvision==0.2.0
